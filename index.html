<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POS AFJ Simulator</title>
    <script src="https://unpkg.com/html5-qrcode"></script>
    <style>
        :root { --primary: #1a73e8; --success: #28a745; --danger: #dc3545; }
        body { font-family: sans-serif; margin: 0; padding: 10px; background: #f0f2f5; }
        .panel { background: white; padding: 15px; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-bottom: 10px; }
        #reader { width: 100%; border-radius: 8px; background: #000; overflow: hidden; }
        .btn-cam { width: 100%; padding: 15px; background: var(--primary); color: white; border: none; border-radius: 8px; font-weight: bold; margin: 10px 0; cursor: pointer; }
        #status { text-align: center; padding: 10px; font-weight: bold; border-radius: 8px; min-height: 20px; margin: 5px 0; }
        .success { background: #e6ffed; color: #28a745; border: 1px solid #28a745; }
        .error { background: #fff0f0; color: #dc3545; border: 1px solid #dc3545; }
        input, select { width: 100%; padding: 12px; margin: 5px 0; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        .cart-item { display: flex; justify-content: space-between; align-items: center; padding: 12px; border-bottom: 1px solid #eee; }
        .total-box { font-size: 1.8em; font-weight: bold; color: var(--primary); text-align: right; margin-top: 15px; border-top: 2px solid #eee; padding-top: 10px; }
    </style>
</head>
<body>
<div class="panel">
    <h3 style="margin:0 0 10px 0; text-align:center;">SIMULATOR BELANJA AFJ</h3>
    <div id="reader"></div>
    <button class="btn-cam" onclick="startScan()">ðŸ“¸ AKTIFKAN KAMERA SCANNER</button>
    <div id="status"></div>
    <input type="text" id="manual-input" placeholder="Ketik Nama Barang / Scan Barcode..." onkeyup="checkInput()">
    <select id="manual-select" onchange="addFromSelect()">
        <option value="">-- Hasil Pencarian Akan Muncul Di Sini --</option>
    </select>
</div>

<div class="panel">
    <h3>ðŸ›’ Keranjang</h3>
    <div id="cart-list"></div>
    <div class="total-box">Total: Rp <span id="grand-total">0</span></div>
    <button onclick="resetCart()" style="width:100%; padding:12px; background:var(--danger); color:white; border:none; border-radius:8px; margin-top:10px; font-weight:bold;">RESET KERANJANG</button>
</div>

<script>
// DAFTAR PRODUK (Hanya contoh, pastikan 841 produk Anda tetap ada di sini)
const products = [
 [
      { id: 1, nama: "Akumo Chicken Nugget (250gr)", harga: 13500 },
      { id: 2, nama: "Akumo Chicken Nugget (500gr)", harga: 24000 },
      { id: 3, nama: "Akumo Chicken Stick (500gr)", harga: 25500 },
      { id: 4, nama: "Akumo Chicken Stik (250gr)", harga: 13500 },
      { id: 5, nama: "Akumo Koin Kombinasi (200gr)", harga: 9000 },
      { id: 6, nama: "Akumo Koin Kombinasi (400gr)", harga: 18500 },
      { id: 7, nama: "Akumo Nuget (1kg)", harga: 46000 },
      { id: 8, nama: "Alien Otak -Otak Premium (250gr)", harga: 10000 },
      { id: 9, nama: "Alien Otak-Otak Premium (500gr)", harga: 19000 },
      { id: 10, nama: "Asimo Nuget Kombinasi (1kg)", harga: 40000 },
      { id: 11, nama: "Asimo Nuget Kombinasi (250gr)", harga: 10000 },
      { id: 12, nama: "Asimo Nuget Kombinasi (500gr)", harga: 20000 },
      { id: 13, nama: "Asimo Nuget Stik (500gr)", harga: 20000 },
      { id: 14, nama: "Asimo Nugget Kombinasi (250gr) Bentuk S", harga: 10000 },
      { id: 15, nama: "Asimo Nugget Kombinasi (450gr) Bentuk S", harga: 18000 },
      { id: 16, nama: "Asimo Sosis Ayam Kombinasi (1000gr)", harga: 38000 },
      { id: 17, nama: "Asimo Sosis Ayam Kombinasi (1000gr)", harga: 38000 },
      { id: 18, nama: "Asimo Sosis Ayam Kombinasi (375gr)", harga: 14000 },
      { id: 19, nama: "Asimo Sosis Ayam Kombinasi (375gr)", harga: 14000 },
      { id: 20, nama: "Asimo Sosis Ayam Kombinasi (500gr)", harga: 20500 },
      { id: 21, nama: "Asimo Sosis Ayam Kombinasi (500gr)", harga: 20500 },
      { id: 22, nama: "Asimo Stick Kombinasi (250gr)", harga: 10000 },
      { id: 23, nama: "Bamboe Bumbu Tomyum (75gr)", harga: 10000 },
      { id: 24, nama: "Bamboe Tomyum (60gr)", harga: 10000 },
      { id: 25, nama: "Bango Kecap Manis (25gr)", harga: 1000 },
      { id: 26, nama: "Bango Kecap Manis (265gr)", harga: 10000 },
      { id: 27, nama: "Bango Kecap Manis (700gr)", harga: 24000 },
      { id: 28, nama: "Bernardi Bun Mini Tray (20pcs)", harga: 26000 },
      { id: 29, nama: "Bernardi Bun Mini Wijen Tray (20pcs)", harga: 28000 },
      { id: 30, nama: "Bernardi Burger Polos (6pcs)", harga: 13500 },
      { id: 31, nama: "Bernardi Burger Wijen (6pcs)", harga: 15500 },
      { id: 32, nama: "Bogasari Terigu Segitiga Biru (1000gr)", harga: 12000 },
      { id: 33, nama: "Bogasari Terigu Segitiga Biru (250gr)", harga: 4000 },
      { id: 34, nama: "Bogasari Terigu Segitiga Biru Premium (1000", harga: 12500 },
      { id: 35, nama: "Bumbu Racik Ayam Goreng (26gr)", harga: 2000 },
      { id: 36, nama: "Bumbu Racik Bumbu Sayur Asem (33gr)", harga: 2000 },
      { id: 37, nama: "Bumbu Racik Ikan Goreng (20gr)", harga: 2000 },
      { id: 38, nama: "Cedea Baso Ikan Besar (500gr)", harga: 26000 },
      { id: 39, nama: "Cedea Chikuwa Mini (1kg)", harga: 57500 },
      { id: 40, nama: "Cedea Chikuwa Mini (250gr)", harga: 17000 },
      { id: 41, nama: "Cedea Chikuwa Mini (500gr)", harga: 28500 },
      { id: 42, nama: "Cedea Crab Stik (1kg)", harga: 55000 },
      { id: 43, nama: "Cedea Crab Stik (250gr)", harga: 16000 },
      { id: 44, nama: "Cedea Dumpling Spicy Chicken (500gr)", harga: 31000 },
      { id: 45, nama: "Cedea Duo Twister (500gr)", harga: 26000 },
      { id: 46, nama: "Cedea Fish Dumpling Cheese (200gr)", harga: 16500 },
      { id: 47, nama: "Cedea Fish Dumpling Cheese (200gr)", harga: 16500 },
      { id: 48, nama: "Cedea Fish Dumpling Cheese (500gr)", harga: 28500 },
      { id: 49, nama: "Cedea Fish Dumpling Chicken (200gr)", harga: 16500 },
      { id: 50, nama: "Cedea Fish Dumpling Chicken (200gr)", harga: 16500 },
      { id: 51, nama: "Cedea Fish Dumpling Chicken (500gr)", harga: 28500 },
      { id: 52, nama: "Cedea Fish Roll 10 (250gr)", harga: 16000 },
      { id: 53, nama: "Cedea Fish Roll Original (500gr)", harga: 25500 },
      { id: 54, nama: "Cedea Flower Twister (500gr)", harga: 26000 },
      { id: 55, nama: "Cedea Korean Odeng Ori (480gr)", harga: 29500 },
      { id: 56, nama: "Cedea Korean Odeng Spicy (480gr)", harga: 30500 },
      { id: 57, nama: "Cedea Magic Bomb Kembang Cumi (450gr)", harga: 32000 },
      { id: 58, nama: "Cedea Oriental Cartoon (500gr)", harga: 50000 },
      { id: 59, nama: "Cedea Oriental Cartoon (200gr)", harga: 26000 },
      { id: 60, nama: "Cedea Steamboat Dashi (300gr)", harga: 23500 },
      { id: 61, nama: "Cedea Steamboat Tomyum (300gr)", harga: 23500 },
      { id: 62, nama: "Champ Beef Sausage (375gr)", harga: 34000 },
      { id: 63, nama: "Champ Burger (315gr)", harga: 19500 },
      { id: 64, nama: "Champ Chicken ball (200gr)", harga: 12000 },
      { id: 65, nama: "Champ Chicken Ball (500gr)", harga: 26000 },
      { id: 66, nama: "Champ Chicken Nugget 123 (500gr)", harga: 37000 },
      { id: 67, nama: "Champ Chicken Sausage (1kg)", harga: 45500 },
      { id: 68, nama: "Champ Chicken Sausage (375gr)", harga: 18500 },
      { id: 69, nama: "Champ Chicken Sausage (500gr)", harga: 25500 },
      { id: 70, nama: "Champ Chicken Stik (250gr)", harga: 20000 },
      { id: 71, nama: "Champ Chiken Naget 123 (450gr)", harga: 35000 },
      { id: 72, nama: "Champ Chiken Nugget Stik (900gr)", harga: 73000 },
      { id: 73, nama: "Champ Crunchy Nugget (225gr)", harga: 18500 },
      { id: 74, nama: "Champ Crunchy Nugget (450gr)", harga: 34000 },
      { id: 75, nama: "Champ Mitra Chicken Stik (500gr)", harga: 40000 },
      { id: 76, nama: "Champ Nugget (250gr)", harga: 20000 },
      { id: 77, nama: "Champ Nugget (500gr)", harga: 39000 },
      { id: 78, nama: "Champ Nugget ABC (225gr)", harga: 18500 },
      { id: 79, nama: "Champ Nugget ABC (450gr)", harga: 35000 },
      { id: 80, nama: "Champ Nugget Ayam (450gr)", harga: 36000 },
      { id: 81, nama: "Champ Nugget Chicken Stik (1kg)", harga: 71500 },
      { id: 82, nama: "Champ Nugget Kombinasi (225gr)", harga: 18500 },
      { id: 83, nama: "Champ Nugget Kombinasi (900gr)", harga: 65000 },
      { id: 84, nama: "Champ Nugget Kombinasi Stik (255gr)", harga: 18500 },
      { id: 85, nama: "Champ Nugget Kombinasi Stik (450gr)", harga: 36000 },
      { id: 86, nama: "Champ Sosis Ayam Isi 3 (75gr)", harga: 5000 },
      { id: 87, nama: "Champ Sosis Bakar Jumbo (500gr)", harga: 30000 },
      { id: 88, nama: "Champ Sosis Bakar Mini Isi 10 (500gr)", harga: 30000 },
      { id: 89, nama: "Chn Frozen Potato Cut (2,5Kg)", harga: 72000 },
      { id: 90, nama: "Cimanggis Bakso 168 (isi 50pcs)", harga: 34000 },
      { id: 91, nama: "Cimanggis Bakso 77 (10pcs)", harga: 3500 },
      { id: 92, nama: "Cimanggis Bakso 77 (50pcs)", harga: 16000 },
      { id: 93, nama: "Cimanggis Bakso Htm (25pcs)", harga: 17000 },
      { id: 94, nama: "Cimanggis Bakso168 (25pcs)", harga: 17000 },
      { id: 95, nama: "Cimanggis Brekele (5pcs)", harga: 16000 },
      { id: 96, nama: "Cimanggis Hitam (50Pcs)", harga: 17500 },
      { id: 97, nama: "Cimanggis Polos (50pcs)", harga: 27000 },
      { id: 98, nama: "Cimanggis Sbb (50pcs)", harga: 60000 },
      { id: 99, nama: "Cimanggis Special (25pcs)", harga: 19000 },
      { id: 100, nama: "Cimanggis Special (50pcs)", harga: 19000 },
      { id: 101, nama: "Cimanggis Urat (25pcs)", harga: 21500 },
      { id: 102, nama: "Delimax Ori Sausage (360gr)", harga: 45000 },
      { id: 103, nama: "Delimax Smoke Beef (200gr)", harga: 19500 },
      { id: 104, nama: "Delimax Smoke Spicy Chicken Wings (500gr)", harga: 46000 },
      { id: 105, nama: "Diamond UHT Chocolate (125ml)", harga: 3500 },
      { id: 106, nama: "Diamond UHT Chocolate (1ltr)", harga: 20000 },
      { id: 107, nama: "Diamond UHT Full Cream (125ml)", harga: 3500 },
      { id: 108, nama: "Diamond UHT Milk Marshmallow (125ml)", harga: 3500 },
      { id: 109, nama: "Diamond UHT Strawberry (125ml)", harga: 3500 },
      { id: 110, nama: "Donat Pelangi Jumbo 10 (500gr)", harga: 16500 },
      { id: 111, nama: "Fiesta Nugget Cheese 123 (500gr)", harga: 52000 },
      { id: 112, nama: "Fiesta Cheesy Lover (400gr)", harga: 49500 },
      { id: 113, nama: "Fiesta Cheesy Lover (500gr)", harga: 64000 },
      { id: 114, nama: "Fiesta Chicken Nugget (400gr)", harga: 42500 },
      { id: 115, nama: "Fiesta Cordon Bleu Bbq Sauce (500gr)", harga: 76000 },
      { id: 116, nama: "Fiesta Crispy Bubble Nugget (400gr)", harga: 38000 },
      { id: 117, nama: "Fiesta Crispy Bubble Nugget (500gr)", harga: 45500 },
      { id: 118, nama: "Fiesta Crispy Crunch (300gr)", harga: 28500 },
      { id: 119, nama: "Fiesta French Fries Butter (500gr)", harga: 28000 },
      { id: 120, nama: "Fiesta Kentang (1kg)", harga: 38000 },
      { id: 121, nama: "Fiesta Kentang (500gr)", harga: 20000 },
      { id: 122, nama: "Fiesta Kentang Butter Coated (1kg)", harga: 47500 },
      { id: 123, nama: "Fiesta Kentang Butter Coated (500gr)", harga: 28000 },
      { id: 124, nama: "Fiesta Krinkel Shoestring (1kg)", harga: 40000 },
      { id: 125, nama: "Fiesta Krinkel Shoestring (500gr)", harga: 22000 },
      { id: 126, nama: "Fiesta Mitra Karage (400gr)", harga: 43000 },
      { id: 127, nama: "Fiesta Mitra Karage (500gr)", harga: 52000 },
      { id: 128, nama: "Fiesta Nuget Dino (500gr)", harga: 54000 },
      { id: 129, nama: "Fiesta Nuget Zoo (500gr)", harga: 53000 },
      { id: 130, nama: "Fiesta Nugget (200gr)", harga: 22000 },
      { id: 131, nama: "Fiesta Nugget (250gr)", harga: 28500 },
      { id: 132, nama: "Fiesta Nugget Cheese 123 (400gr)", harga: 40000 },
      { id: 133, nama: "Fiesta Nugget Dino (400gr)", harga: 45000 },
      { id: 134, nama: "Fiesta Nugget Pizza ABC (400gr)", harga: 42500 },
      { id: 135, nama: "Fiesta Nugget Pizza ABC (500gr)", harga: 53000 },
      { id: 136, nama: "Fiesta Nugget Stikie (250gr)", harga: 28500 },
      { id: 137, nama: "Fiesta Nugget Zoo (400gr)", harga: 43000 },
      { id: 138, nama: "Fiesta Pok-Pok (400gr)", harga: 45000 },
      { id: 139, nama: "Fiesta Ready To Go Korean Spicy (65gr)", harga: 7500 },
      { id: 140, nama: "Fiesta Ready To Go Sausage (65gr)", harga: 7500 },
      { id: 141, nama: "Fiesta Rtg Cheesy Melts (65gr)", harga: 7500 },
      { id: 142, nama: "Fiesta Rtg Chicken Cheesy Melts (65gr)", harga: 7500 },
      { id: 143, nama: "Fiesta Spicy Chick (400gr)", harga: 44000 },
      { id: 144, nama: "Fiesta Spicy Chick (500gr)", harga: 50000 },
      { id: 145, nama: "Fiesta Spicy Karage (400gr)", harga: 44000 },
      { id: 146, nama: "Fiesta Spicy Karage (500gr)", harga: 57000 },
      { id: 147, nama: "Fiesta Spicy Nugget (500gr)", harga: 51000 },
      { id: 148, nama: "Fiesta Spicy Wing (400gr)", harga: 56000 },
      { id: 149, nama: "Fiesta Spicy Wings (500gr)", harga: 68000 },
      { id: 150, nama: "Fiesta Stikie (200gr)", harga: 22500 },
      { id: 151, nama: "Fiesta Stikie (400gr)", harga: 45000 },
      { id: 152, nama: "Fiva Rolade Beef (250gr)", harga: 18500 },
      { id: 153, nama: "Fiva Rolade Beef Roll", harga: 26000 },
      { id: 154, nama: "Fiva Rolade Chicken (250gr)", harga: 18000 },
      { id: 155, nama: "Fiva Rolade Chicken Roll", harga: 24500 },
      { id: 156, nama: "Geboy Panjang Putih (1kg)", harga: 34000 },
      { id: 157, nama: "Geboy Sosis Ayam Panjang Putih (500gr)", harga: 18000 },
      { id: 158, nama: "Geboyku Sosis (500gr)", harga: 18000 },
      { id: 159, nama: "Geboyku Sosis (730gr)", harga: 26000 },
      { id: 160, nama: "Geboyku Sosis Ayam (1kg)", harga: 35500 },
      { id: 161, nama: "Geboyku Sosis Merah (1kg)", harga: 35500 },
      { id: 162, nama: "Geboyku Sosis Putih (1kg)", harga: 34000 },
      { id: 163, nama: "Granco Minyak Goreng (1,8lt)", harga: 38000 },
      { id: 164, nama: "Indofood Indomie Ayam Bawang (69gr)", harga: 3500 },
      { id: 165, nama: "Indofood Indomie Goreng Special (85gr)", harga: 3500 },
      { id: 166, nama: "Indofood Indomie Seblak Jeletot (69gr)", harga: 3500 },
      { id: 167, nama: "Indofood Kecap Manis (520ml)", harga: 17000 },
      { id: 168, nama: "Indomie Rasa soto (75Gr)", harga: 3500 },
      { id: 169, nama: "Indomie Spageti Spicy Bolognese", harga: 3500 },
      { id: 170, nama: "Indomie Spageti Spicy Carbonara", harga: 3500 },
      { id: 171, nama: "Inti Bumi Kulit Dimsum 8cm", harga: 7500 },
      { id: 172, nama: "Jamur Enoki New (500gr)", harga: 4000 },
      { id: 173, nama: "Kamil Bakso Sapi (250gr)", harga: 17000 },
      { id: 174, nama: "Kamil Bakso Sapi (750gr)", harga: 48000 },
      { id: 175, nama: "Kanzler Beef Cocktail (250gr)", harga: 28500 },
      { id: 176, nama: "Kanzler Beef Cocktail (500gr)", harga: 55500 },
      { id: 177, nama: "Kanzler Beef Wiener (360gr)", harga: 46000 },
      { id: 178, nama: "Kanzler Cheese Bratwurst (300gr)", harga: 48000 },
      { id: 179, nama: "Kanzler Cheese Cocktail (500gr)", harga: 48500 },
      { id: 180, nama: "Kanzler Chicken Corden Blue (300gr)", harga: 50500 },
      { id: 181, nama: "Kanzler Chicken Crispy Stik (450gr)", harga: 42000 },
      { id: 182, nama: "Kanzler Chicken Naget Crispy (250gr)", harga: 25500 },
      { id: 183, nama: "Kanzler Chicken Nugeet (450gr)", harga: 41000 },
      { id: 184, nama: "Kanzler Crispy Chicken Nugget (120gr)", harga: 13500 },
      { id: 185, nama: "Kanzler Crispy Chicken Nugget (450gr)", harga: 42000 },
      { id: 186, nama: "Kanzler Crispy Chicken Stik (250gr)", harga: 25000 },
      { id: 187, nama: "Kanzler Crispy Spicy Nugget (450gr)", harga: 45000 },
      { id: 188, nama: "Kanzler Single Baso Gochujang (60gr)", harga: 8000 },
      { id: 189, nama: "Kanzler Single Baso Hot (65gr)", harga: 8000 },
      { id: 190, nama: "Kanzler Single Baso Original (65gr)", harga: 8500 },
      { id: 191, nama: "Kanzler Single Gochujang (60gr)", harga: 8000 },
      { id: 192, nama: "Kanzler Single Sosis Keju (65gr)", harga: 8500 },
      { id: 193, nama: "Kanzler Singles Hot (65gr)", harga: 8000 },
      { id: 194, nama: "Kanzler Singles Original (65gr)", harga: 8000 },
      { id: 195, nama: "Kanzler Smok Beef (250gr)", harga: 37500 },
      { id: 196, nama: "Kanzler Sosis Blackpepper Frankr (300gr)", harga: 41000 },
      { id: 197, nama: "Kanzler Sosis Cheese Frankfurter (360gr)", harga: 48500 },
      { id: 198, nama: "Kanzler Sosis Frankfurter Cocktail (500gr)", harga: 56000 },
      { id: 199, nama: "Kanzler Sosis Garlic Frankfurter (300gr)", harga: 41000 },
      { id: 200, nama: "Kimbo Heppi Sosis Ayam Ulir (40pcs)", harga: 33500 },
      { id: 201, nama: "Kimbo Heppii Sosis Bakar Mini (500gr)", harga: 27000 },
      { id: 202, nama: "Kimbo Mini Bratwurst (450gr)", harga: 36000 },
      { id: 203, nama: "Kimbo Mini Bratwust Black Pepper 10 (500gr", harga: 31000 },
      { id: 204, nama: "Kimbo Mini Bratwust Keju 10 (500gr)", harga: 31000 },
      { id: 205, nama: "Kimbo Sebaguna Cocktai merah Panjang (500gr", harga: 36500 },
      { id: 206, nama: "Kimbo Sosis Mini Bratwurst '10", harga: 31000 },
      { id: 207, nama: "Kimbo Sosis Sapi Cocktail (450gr)", harga: 36000 },
      { id: 208, nama: "Kimbo Sosis Sp Bratwurst (7pcs)", harga: 31000 },
      { id: 209, nama: "King Sosis Ayam 40 (1000gr)", harga: 31500 },
      { id: 210, nama: "Kulit Dimsum Ori (250gr)", harga: 7500 },
      { id: 211, nama: "Kulit Dimsum Warna (250gr)", harga: 7500 },
      { id: 212, nama: "Mamasuka Chicken Nugget Crunchy (150gr)", harga: 15500 },
      { id: 213, nama: "Mamasuka Chiken wing Chesee Buldak (200gr)", harga: 28500 },
      { id: 214, nama: "Mamasuka Chiken wing Korean Buldak (200gr)", harga: 28500 },
      { id: 215, nama: "Mamasuka Naget Ori (400gr)", harga: 35500 },
      { id: 216, nama: "Mamasuka Nugget (150gr)", harga: 13500 },
      { id: 217, nama: "Mamasuka Nugget Crunchy (400gr)", harga: 38500 },
      { id: 218, nama: "Mamasuka Odeng (100gr)", harga: 10000 },
      { id: 219, nama: "Mamasuka Spicy Wings (200gr)", harga: 28500 },
      { id: 220, nama: "Max Shoestring French Fries (1kg)", harga: 32000 },
      { id: 221, nama: "Mie Goreng Sakura (60gr)", harga: 2500 },
      { id: 222, nama: "Mie Sakura Seblak Jeletot (60gr)", harga: 2500 },
      { id: 223, nama: "Minyak Goreng Rose Brand (2lt)", harga: 40000 },
      { id: 224, nama: "Mirea Cumi Flower (200gr)", harga: 13000 },
      { id: 225, nama: "Mirea Dumpling Ayam (200gr)", harga: 12000 },
      { id: 226, nama: "Mirea Dumpling Keju (200gr)", harga: 12000 },
      { id: 227, nama: "Mirea Fish ball (200gr)", harga: 10000 },
      { id: 228, nama: "Mirea Fish Roll (250gr)", harga: 13500 },
      { id: 229, nama: "Mirea Fish Roll (500gr)", harga: 24500 },
      { id: 230, nama: "Mirea Otak-Otak Ikan (200gr)", harga: 10000 },
      { id: 231, nama: "Mister Max Jumbo Isi 8 (500gr)", harga: 26000 },
      { id: 232, nama: "Mister Max Sosis Bakar Isi 10+2 (500gr)", harga: 26000 },
      { id: 233, nama: "Mitraku Bakso Ikan (200gr)", harga: 12000 },
      { id: 234, nama: "Mitraku Bakso Ikan (500gr)", harga: 26000 },
      { id: 235, nama: "Mitraku Bakso Mix (500gr)", harga: 26500 },
      { id: 236, nama: "Mitraku Bakso Salmon (1kg)", harga: 56000 },
      { id: 237, nama: "Mitraku Baso Ikan (1kg)", harga: 56000 },
      { id: 238, nama: "Mitraku Baso Ikan Lobster (1kg)", harga: 53000 },
      { id: 239, nama: "Mitraku Chikuwa Mini (1kg)", harga: 55000 },
      { id: 240, nama: "Mitraku Dumpling Ayam (250gr)", harga: 15000 },
      { id: 241, nama: "Mitraku Dumpling Ayam (500gr)", harga: 55000 },
      { id: 242, nama: "Mitraku Dumpling Bolognese (500gr)", harga: 29000 },
      { id: 243, nama: "Mitraku Dumpling Keju (500gr)", harga: 28500 },
      { id: 244, nama: "Mitraku Dumpling Rendang (1kg)", harga: 55000 },
      { id: 245, nama: "Mitraku Fish Cake Singapore (500gr)", harga: 28000 },
      { id: 246, nama: "Mitraku Fish Roll (1kg)", harga: 50000 },
      { id: 247, nama: "Mitraku Shrimp Tail (1kg)", harga: 62000 },
      { id: 248, nama: "Molto Farfum Boost Elegant Raspbery (11ml)", harga: 500 },
      { id: 249, nama: "Molto Farfum Protect Morning Fresh (10ml)", harga: 500 },
      { id: 250, nama: "Molto Parfum Boost Elegant Raspbery (18ml)", harga: 1000 },
      { id: 251, nama: "Molto Parfum Boost Korean Straw (11ml)", harga: 500 },
      { id: 252, nama: "Molto Parfum Protect Sunshine Bloomy (18ml)", harga: 1000 },
      { id: 253, nama: "Molto Pure Soft&Gen (18ml)", harga: 1000 },
      { id: 254, nama: "Nori Java (10pcs)", harga: 28000 },
      { id: 255, nama: "Okey Chicken Sausage (1kg)", harga: 45000 },
      { id: 256, nama: "Okey Chicken Stick (500gr)", harga: 23500 },
      { id: 257, nama: "Okey Nugget (500gr)", harga: 23500 },
      { id: 258, nama: "Pak Kumiz Da50 (50pcs)", harga: 45000 },
      { id: 259, nama: "Pak Kumiz Gt05 (5pcs)", harga: 29000 },
      { id: 260, nama: "Pak Kumiz Ip25 (25pcs)", harga: 15000 },
      { id: 261, nama: "Pak Kumiz Lt50 (50pcs)", harga: 36000 },
      { id: 262, nama: "Pak Kumiz Mt10 (10pcs)", harga: 14000 },
      { id: 263, nama: "Pak Kumiz Mt50 (50pcs)", harga: 46000 },
      { id: 264, nama: "Pak Kumiz Pm10 (10pcs)", harga: 15000 },
      { id: 265, nama: "Pak Kumiz Pm50 (50pcs)", harga: 57000 },
      { id: 266, nama: "Pak Kumiz Pt10 (10pcs)", harga: 19000 },
      { id: 267, nama: "Pak Kumiz Pt40 (40pcs)", harga: 62000 },
      { id: 268, nama: "Pak Kumiz Ts25 (25pcs)", harga: 38000 },
      { id: 269, nama: "Pak Kumiz Un25 (25pcs)", harga: 15000 },
      { id: 270, nama: "Palmia Margarin 200Gr", harga: 7500 },
      { id: 271, nama: "Pelangi Donat Mini 20 (500gr)", harga: 18500 },
      { id: 272, nama: "Pelangi Minipo Coklat (500gr)", harga: 15000 },
      { id: 273, nama: "Pelangi Minipo Pandan (500gr)", harga: 15000 },
      { id: 274, nama: "Pelangi Minipo Strawberry (500gr)", harga: 15000 },
      { id: 275, nama: "Pelangi Minipo Vanila (500gr)", harga: 15000 },
      { id: 276, nama: "Pepsodent Sikat Gigi 5Star", harga: 5000 },
      { id: 277, nama: "Pepsodent White Pasta Gigi (120gr)", harga: 10000 },
      { id: 278, nama: "Pepsodent White Pasta Gigi (190gr)", harga: 14000 },
      { id: 279, nama: "Perfectio Sosis Ayam Bakar (500gr)", harga: 28500 },
      { id: 280, nama: "Perfectio Chicken Karage (250gr)", harga: 22500 },
      { id: 281, nama: "Perfectio Chicken Karage (500gr)", harga: 43000 },
      { id: 282, nama: "Perfectio Chicken Skin (300gr)", harga: 26500 },
      { id: 283, nama: "Perfectio Nugget Vanfood (250gr)", harga: 10000 },
      { id: 284, nama: "Perfectio Nugget Vanfood (500gr)", harga: 18500 },
      { id: 285, nama: "Refina Garam Meja (250gr)", harga: 4000 },
      { id: 286, nama: "Rice Papper (75gr)", harga: 12000 },
      { id: 287, nama: "Rinso Anti Noda + Molto Rose Fresh Paw (40g", harga: 1000 },
      { id: 288, nama: "Rinso Anti Noda + Molto Rose Fresh Paw (770", harga: 20000 },
      { id: 289, nama: "Rinso Anti Noda Rose Liquid (40gr)", harga: 1000 },
      { id: 290, nama: "Rinso Anti Noda+ Molto Farfum Ess Paw (40gr", harga: 1000 },
      { id: 291, nama: "Rinso Anti Noda+ Molto Rose Fresh Liq (700m", harga: 19000 },
      { id: 292, nama: "Rinso Antinoda + Molto Classic Fresh Paw (4", harga: 1000 },
      { id: 293, nama: "Rinso Antinoda Classic Fresh Liquid (40gr)", harga: 1000 },
      { id: 294, nama: "Rinso Antinoda Farfum Ess Liquid (20gr)", harga: 500 },
      { id: 295, nama: "Rinso Antinoda Farfum Ess Liquid (40gr)", harga: 1000 },
      { id: 296, nama: "Rose Brand Gula (1kg)", harga: 18000 },
      { id: 297, nama: "Rose Brand Margarine (200gr)", harga: 5500 },
      { id: 298, nama: "Rose Brand Santan Kara (65ml)", harga: 5000 },
      { id: 299, nama: "Royco Kaldu Ayam Kampung (8gr)", harga: 500 },
      { id: 300, nama: "Royco Kaldu Ayam Kampung (94gr)", harga: 7000 },
      { id: 301, nama: "Royco Kaldu Iga&Sumsum Sapi (8gr)", harga: 500 },
      { id: 302, nama: "Royco Kaldu Iga&Sumsum Sapi (94gr)", harga: 7000 },
      { id: 303, nama: "Sakana Dimsum Ayam (250gr)", harga: 19000 },
      { id: 304, nama: "Sakana Egg Roll", harga: 18500 },
      { id: 305, nama: "Sakana Lumpia Ikan (500gr)", harga: 25000 },
      { id: 306, nama: "Sakana Otak-Otak (250gr)", harga: 12500 },
      { id: 307, nama: "Sakana Otak-Otak Panjang (500gr)", harga: 21000 },
      { id: 308, nama: "Sakana Pempek Lenjer (500gr)", harga: 25000 },
      { id: 309, nama: "Sakana Pempek Selam Kecil (500gr)", harga: 30000 },
      { id: 310, nama: "Sakana Siomay (500gr)", harga: 26000 },
      { id: 311, nama: "Sakana Siomay Ayam Gyoza (250gr)", harga: 18000 },
      { id: 312, nama: "Sakana Siomay Mini (250gr)", harga: 15000 },
      { id: 313, nama: "Sakana Tahu Bakso Ikan (500gr)", harga: 25000 },
      { id: 314, nama: "Salam Bakso Ayam Kerikil (500gr)", harga: 18000 },
      { id: 315, nama: "Salam Naget Ayam (1kg)", harga: 36000 },
      { id: 316, nama: "Salam Naget Ayam (250gr)", harga: 11000 },
      { id: 317, nama: "Salam Naget Ayam (500gr)", harga: 18500 },
      { id: 318, nama: "Salam Naget Hati (500gr)", harga: 18500 },
      { id: 319, nama: "Salam Naget Stick (250gr)", harga: 11000 },
      { id: 320, nama: "Salam Naget Stick Ayam (500gr)", harga: 18500 },
      { id: 321, nama: "Salam Sosis Ayam (375gr)", harga: 15000 },
      { id: 322, nama: "Salam Sosis Ayam (500gr)", harga: 18000 },
      { id: 323, nama: "Salam Sosis Ayam Long (1kg)", harga: 35000 },
      { id: 324, nama: "Salam Sosis Ayam Merah (500gr)", harga: 17500 },
      { id: 325, nama: "Salam Sosis Ayam Merah 40 (1kg)", harga: 35000 },
      { id: 326, nama: "Salam Sosis Ayam Short (1kg)", harga: 35000 },
      { id: 327, nama: "Salam Sosis Bakar Jumbo (500gr)", harga: 28500 },
      { id: 328, nama: "Salam Sosis Bakar Kombinasi Mini (500gr)", harga: 28500 },
      { id: 329, nama: "Salam Sosis Sapi Long (500gr)", harga: 19000 },
      { id: 330, nama: "Sariwangi Teh Asli Celup (25ktg)", harga: 7000 },
      { id: 331, nama: "Shaka Beef Slice (500gr)", harga: 55000 },
      { id: 332, nama: "Shaka Beef Slice Low Fat (500gr)", harga: 58000 },
      { id: 333, nama: "So Eco Naget Ayam (1kg)", harga: 33500 },
      { id: 334, nama: "So Eco Naget Ayam (500gr)", harga: 17500 },
      { id: 335, nama: "Sunfish Bakso Ikan isi 50 (500gr)", harga: 25000 },
      { id: 336, nama: "Sunfish Bakso Rebus Mix (500gr)", harga: 28000 },
      { id: 337, nama: "Sunfish Bakso Salmon (500gr)", harga: 29000 },
      { id: 338, nama: "Sunfish Chikuwa Long (500gr)", harga: 27000 },
      { id: 339, nama: "Sunfish Chikuwa Mini (500gr)", harga: 27000 },
      { id: 340, nama: "Sunfish Crab Stick (1kg)", harga: 52000 },
      { id: 341, nama: "Sunfish Crab Stick (250gr)", harga: 16000 },
      { id: 342, nama: "Sunfish Crab Stick (500gr)", harga: 48000 },
      { id: 343, nama: "Sunfish Crab Stik (500gr)", harga: 28000 },
      { id: 344, nama: "Sunfish Dumpling Cheese (500gr)", harga: 27000 },
      { id: 345, nama: "Sunfish Dumpling Chicken (500gr)", harga: 27000 },
      { id: 346, nama: "Sunfish Dumpling Matcha", harga: 29000 },
      { id: 347, nama: "Sunfish Ekor Udang (450gr)", harga: 29500 },
      { id: 348, nama: "Sunfish Fish Ball isi 25 (500gr)", harga: 24000 },
      { id: 349, nama: "Sunfish Fish Roll (1kg)", harga: 51000 },
      { id: 350, nama: "Sunfish Fish Roll (250gr)", harga: 13500 },
      { id: 351, nama: "Sunfish Fish Roll (500gr)", harga: 25000 },
      { id: 352, nama: "Sunfish Hati Ikan (500gr)", harga: 23000 },
      { id: 353, nama: "Sunfish Kaki Naga (500gr)", harga: 18000 },
      { id: 354, nama: "Sunfish Kembang Cumi (500gr)", harga: 29000 },
      { id: 355, nama: "Sunfish Kue Ikan (500gr)", harga: 23000 },
      { id: 356, nama: "Sunfish Narutomaki (500gr)", harga: 25000 },
      { id: 357, nama: "Sunfish Olahan Odeng Korea (500gr)", harga: 24000 },
      { id: 358, nama: "Sunfish Shrimp Roll (500gr)", harga: 25000 },
      { id: 359, nama: "SuperPel Japan Apple&Peony (770ml)", harga: 13500 },
      { id: 360, nama: "Superpel Lemon (770ml)", harga: 13500 },
      { id: 361, nama: "Tamma Kebab Choco Caramel (10pcs)", harga: 27500 },
      { id: 362, nama: "Tamma Kebab Original (10pcs)", harga: 26000 },
      { id: 363, nama: "Tamma Kebab Spicy (10pcs)", harga: 27000 },
      { id: 364, nama: "Tamma Maryam Coklat (5pcs)", harga: 24000 },
      { id: 365, nama: "Tamma Maryam Original (5pcs)", harga: 16500 },
      { id: 366, nama: "Tamma Tortilla Besar (25cm)", harga: 27000 },
      { id: 367, nama: "Tamma Tortilla Catering (17cm)", harga: 20000 },
      { id: 368, nama: "Tamma Tortilla Mini (20cm)", harga: 22500 },
      { id: 369, nama: "Tamma Tortilla Sedang (23cm)", harga: 24500 },
      { id: 370, nama: "Teh Poci Celup (25ktg)", harga: 6000 },
      { id: 371, nama: "Teh Sosro Celup (25ktg)", harga: 6000 },
      { id: 372, nama: "Teman Laut Bakso Ikan (500gr)", harga: 20000 },
      { id: 373, nama: "Tepung Beras Pak Tani (500gr)", harga: 8500 },
      { id: 374, nama: "Tepung Beras Rose Brand (500gr)", harga: 8500 },
      { id: 375, nama: "Tepung Maizena Rose Brand (250gr)", harga: 5000 },
      { id: 376, nama: "Umiami Kornet Sapi (500gr)", harga: 17500 },
      { id: 377, nama: "Umiami Minipao Ayam (500gr)", harga: 14000 },
      { id: 378, nama: "Umiami Minipao Coklat (500gr)", harga: 14000 },
      { id: 379, nama: "Umiami Minipao Sapi (500gr)", harga: 14000 },
      { id: 380, nama: "Umiami Minipao Strawberry (500gr)", harga: 14000 },
      { id: 381, nama: "Vigo Bakso Ayam 50", harga: 18500 },
      { id: 382, nama: "Vigo Bakso Mercon (50pcs)", harga: 31000 },
      { id: 383, nama: "Vigo Bakso Sapi (50pcs)", harga: 21000 },
      { id: 384, nama: "Vigo Baso Ayam Kerikil (500gr)", harga: 17000 },
      { id: 385, nama: "Vigo Beef Burger 10", harga: 9000 },
      { id: 386, nama: "Vigo Beef Burger 20", harga: 10000 },
      { id: 387, nama: "Vigo Sosis Ayam Kombinasi 15' (375gr)", harga: 18000 },
      { id: 388, nama: "Vigo Sosis Ayam Ulir Panjang 15 (500gr)", harga: 18000 },
      { id: 389, nama: "Vigo Sosis Bakar Jumbo (7pcs)", harga: 26000 },
      { id: 390, nama: "Vigo Sosis Bakar Mini (12pcs)", harga: 26000 },
      { id: 391, nama: "Vigo Sosis Sapi 15' (375gr)", harga: 13500 },
      { id: 392, nama: "Vigo Sosis SP (30pcs)", harga: 26000 },
      { id: 393, nama: "Vitalia Burger (250gr)", harga: 9500 },
      { id: 394, nama: "Vitalia Burger (280gr)", harga: 10500 },
      { id: 395, nama: "Vitalia Nugget (250gr)", harga: 11000 },
      { id: 396, nama: "Warisan Bakso AB (25pcs)", harga: 15000 },
      { id: 397, nama: "Warisan Bakso AB (50pcs)", harga: 28000 },
      { id: 398, nama: "Warisan Bakso AB BMS (25pcs)", harga: 22000 },
      { id: 399, nama: "Warisan Bakso AB BMSK (50pcs)", harga: 22000 },
      { id: 400, nama: "Warisan Bakso Ayam (50pcs)", harga: 25000 },
      { id: 401, nama: "Warisan Bakso Sapi (600gr)", harga: 22000 },
      { id: 402, nama: "Warisan Bakso Super M (50pcs)", harga: 25000 },
      { id: 403, nama: "Warisan Bakso Urat (50pcs)", harga: 27000 },
      { id: 404, nama: "Zaitun Chicken Karage (500gr)", harga: 43000 },
      { id: 405, nama: "Zaitun Chicken Katsu (500gr)", harga: 41000 },
      { id: 406, nama: "Zaitun Crispy Crunch (250gr)", harga: 18500 },
      { id: 407, nama: "Zaitun Crispy Nuget (400gr)", harga: 34500 },
      { id: 408, nama: "Zaitun Crispy Nugget (250gr)", harga: 22000 },
      { id: 409, nama: "Zaitun Crispy Nugget (500gr)", harga: 41000 },
      { id: 410, nama: "Zaitun Sosis Beef Breakfast (500gr)", harga: 72000 },
      { id: 411, nama: "Zaitun Spicy Wing (500gr)", harga: 45500 },
      { id: 412, nama: "Zaitun Stikie Cheese (500gr)", harga: 39000 }
    ];
 
];

let cart = [];
let html5QrCode;

// FUNGSI PENCARIAN (LIVE SEARCH)
function checkInput() {
    const query = document.getElementById('manual-input').value.toLowerCase();
    const sel = document.getElementById('manual-select');
    
    // Jika input kosong, bersihkan pilihan
    if (query.length < 2) {
        sel.innerHTML = '<option value="">-- Ketik minimal 2 huruf --</option>';
        return;
    }

    // Filter produk berdasarkan nama atau ID
    const matches = products.filter(p => 
        p.n.toLowerCase().includes(query) || p.id.includes(query)
    );

    // Tampilkan hasil di Dropdown
    sel.innerHTML = '<option value="">Ditemukan (' + matches.length + ') barang:</option>';
    matches.forEach(p => {
        let o = document.createElement('option');
        o.value = p.id;
        o.text = p.n + " - Rp " + p.p.toLocaleString();
        sel.appendChild(o);
    });
}

// TAMBAH KE KERANJANG DARI DROPDOWN
function addFromSelect() {
    const id = document.getElementById('manual-select').value;
    if (id) {
        addToCart(id);
        document.getElementById('manual-input').value = ""; // Reset input
    }
}

function startScan() {
    html5QrCode = new Html5Qrcode("reader");
    html5QrCode.start({facingMode: "environment"}, {fps: 10, qrbox: 250}, (txt) => {
        addToCart(txt);
    }).catch(err => alert("Gunakan link HTTPS!"));
}

function addToCart(barcode) {
    const item = products.find(p => p.id == barcode.trim());
    const stat = document.getElementById('status');
    if(item) {
        stat.innerText = "Ditambah: " + item.n; stat.className = "success";
        const idx = cart.findIndex(c => c.id === item.id);
        if(idx !== -1) { cart[idx].q += 1; } else { cart.unshift({...item, q: 1}); }
    } else {
        stat.innerText = "Barang Tidak Ditemukan!"; stat.className = "error";
    }
    renderCart();
    setTimeout(() => { stat.innerText = ""; stat.className = ""; }, 2000);
}

function renderCart() {
    const list = document.getElementById('cart-list');
    if(cart.length === 0) { list.innerHTML = "<p>Keranjang kosong</p>"; return; }
    list.innerHTML = cart.map((c, i) => `
        <div class="cart-item">
            <div style="flex:1"><b>${c.n}</b><br>Rp ${c.p.toLocaleString()}</div>
            <div style="display:flex; align-items:center; gap:10px;">
                <button onclick="updateQty(${i},-1)">-</button>
                <b>${c.q}</b>
                <button onclick="updateQty(${i},1)">+</button>
            </div>
            <div style="width:80px; text-align:right;"><b>${(c.p*c.q).toLocaleString()}</b></div>
        </div>
    `).join('');
    const total = cart.reduce((s, c) => s + (c.p * c.q), 0);
    document.getElementById('grand-total').innerText = total.toLocaleString();
}

function updateQty(i, d) {
    cart[i].q += d;
    if(cart[i].q <= 0) cart.splice(i, 1);
    renderCart();
}

function resetCart() { if(confirm("Hapus semua?")) { cart = []; renderCart(); } }
</script>
</body>
</html>
