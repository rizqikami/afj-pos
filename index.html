<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POS AFJ Simulator</title>
    <script src="https://unpkg.com/html5-qrcode"></script>
    <style>
        :root { --primary: #1a73e8; --success: #28a745; --danger: #dc3545; }
        body { font-family: sans-serif; margin: 0; padding: 10px; background: #f0f2f5; }
        .panel { background: white; padding: 15px; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-bottom: 10px; }
        #reader { width: 100%; border-radius: 8px; background: #000; overflow: hidden; }
        .btn-cam { width: 100%; padding: 15px; background: var(--primary); color: white; border: none; border-radius: 8px; font-weight: bold; margin: 10px 0; cursor: pointer; }
        #status { text-align: center; padding: 10px; font-weight: bold; border-radius: 8px; min-height: 20px; margin: 5px 0; }
        .success { background: #e6ffed; color: #28a745; border: 1px solid #28a745; }
        .error { background: #fff0f0; color: #dc3545; border: 1px solid #dc3545; }
        input, select { width: 100%; padding: 12px; margin: 5px 0; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        .cart-item { display: flex; justify-content: space-between; align-items: center; padding: 12px; border-bottom: 1px solid #eee; }
        .total-box { font-size: 1.8em; font-weight: bold; color: var(--primary); text-align: right; margin-top: 15px; border-top: 2px solid #eee; padding-top: 10px; }
    </style>
</head>
<body>
<div class="panel">
    <h3 style="margin:0 0 10px 0; text-align:center;">SIMULATOR BELANJA AFJ</h3>
    <div id="reader"></div>
    <button class="btn-cam" onclick="startScan()">ðŸ“¸ AKTIFKAN KAMERA SCANNER</button>
    <div id="status"></div>
    <input type="text" id="manual-input" placeholder="Cari Nama / Scan Barcode..." onkeyup="checkInput()">
    <select id="manual-select" onchange="addFromSelect()">
        <option value="">-- Pilih Manual Dari 800+ Barang --</option>
    </select>
</div>
<div class="panel">
    <h3>ðŸ›’ Keranjang</h3>
    <div id="cart-list"></div>
    <div class="total-box">Total: Rp <span id="grand-total">0</span></div>
    <button onclick="resetCart()" style="width:100%; padding:12px; background:var(--danger); color:white; border:none; border-radius:8px; margin-top:10px; font-weight:bold;">RESET KERANJANG</button>
</div>
<script>
// Data barang ringkasan (Sistem akan memuat semua data otomatis)
const products = [
    {id: "12404", n: "Pocari Sweat (500ml)", p: 7500},
    {id: "12405", n: "Pop Mie Ayam (75gr)", p: 5500},
    {id: "12406", n: "Pop Mie Baso (75gr)", p: 5500},
    {id: "12407", n: "Pop Mie Soto (75gr)", p: 5500},
    {id: "12408", n: "Pringles Original (107gr)", p: 22000},
    {id: "12409", n: "Qtela Keripik Singkong (185gr)", p: 14500},
    {id: "12410", n: "Rinso Anti Noda (700gr)", p: 28500},
    {id: "12411", n: "Roma Kelapa (300gr)", p: 12000},
    {id: "12412", n: "Roma Malkist Crackers (135gr)", p: 7500},
    {id: "12413", n: "Sania Minyak Goreng 1L", p: 18000},
    {id: "12414", n: "Sania Minyak Goreng 2L", p: 35000},
    {id: "12415", n: "Sari Roti Tawar Spesial", p: 15000},
    {id: "12416", n: "Sedap Mie Goreng (Cup)", p: 5000},
    {id: "12417", n: "Sensodyne Cool Gel (100gr)", p: 32000},
    {id: "12418", n: "SilverQueen Milk Chocolate (62gr)", p: 16500},
    {id: "12419", n: "So Klin Pemutih (Reguler)", p: 5000},
    {id: "12420", n: "Sprite (250ml)", p: 5000},
    {id: "12421", n: "Sunlight Jeruk Nipis (755ml)", p: 18000},
    {id: "12422", n: "Sunsilk Black Shine (170ml)", p: 25000},
    {id: "12423", n: "Taro Net Seaweed (65gr)", p: 9500},
    {id: "12424", n: "Teh Botol Sosro (250ml)", p: 4000},
    {id: "12425", n: "Teh Botol Sosro (Kotak 1L)", p: 10000},
    {id: "12426", n: "Teh Gelas (Cup)", p: 1000},
    {id: "12427", n: "Teh Kotak Ultra (300ml)", p: 4500},
    {id: "12428", n: "Teh Pucuk Harum (350ml)", p: 3500},
    {id: "12429", n: "Tic Tac Snack (90gr)", p: 6000},
    {id: "12430", n: "Tisu Paseo 250 Sheets", p: 15000},
    {id: "12431", n: "Tolak Angin Cair (Sachet)", p: 4000},
    {id: "12432", n: "Top Coffee Susu (isi 10)", p: 13000},
    {id: "12433", n: "Torabika Duo (isi 10)", p: 14000},
    {id: "12434", n: "Tropicana Slim Classic (50)", p: 45000},
    {id: "12435", n: "Ultra Milk Cokelat (250ml)", p: 6500},
    {id: "12436", n: "Ultra Milk Full Cream (1L)", p: 20000},
    {id: "12437", n: "Ultra Milk Strawberry (250ml)", p: 6500},
    {id: "12438", n: "Vanish Cair (Refill 425ml)", p: 22000},
    {id: "12439", n: "Vixal Pembersih Porselen (780ml)", p: 18000},
    {id: "12440", n: "Wafer Tanggo Cokelat (130gr)", p: 8500},
    {id: "12441", n: "Walls Cornetto Vanilla", p: 10000},
    {id: "12442", n: "Wipol Karbol Wangi (750ml)", p: 18000},
    {id: "12443", n: "Yakult (Pack isi 5)", p: 10000},
    {id: "12444", n: "Zest Sabun Mandi (Batang)", p: 4000},
    {id: "12445", n: "Zinc Shampoo (170ml)", p: 24000},
    {id: "12446", n: "Ayam Broiler (per kg)", p: 38000},
    {id: "12447", n: "Telur Ayam Negeri (1kg)", p: 28000},
    {id: "12448", n: "Bawang Merah (100gr)", p: 5000},
    {id: "12449", n: "Bawang Putih (100gr)", p: 4500},
    {id: "12450", n: "Cabe Rawit Merah (100gr)", p: 10000},
    {id: "12451", n: "Cabe Merah Keriting (100gr)", p: 8000},
    {id: "12452", n: "Tomat Merah (1kg)", p: 15000},
    {id: "12453", n: "Kentang Dieng (1kg)", p: 18000},
    {id: "12454", n: "Wortel Lokal (1kg)", p: 12000},
    {id: "12455", n: "Jeruk Medan (1kg)", p: 25000},
    {id: "12456", n: "Apel Fuji (per kg)", p: 45000},
    {id: "12457", n: "Pisang Cavendish (per sisir)", p: 20000},
    {id: "12458", n: "Pepaya California (per kg)", p: 10000},
    {id: "12459", n: "Semangka Tanpa Biji (per kg)", p: 12000},
    {id: "12460", n: "Melon Sky Rocket (per kg)", p: 15000},
    {id: "12461", n: "Susu Beruang Bear Brand", p: 10500},
    {id: "12462", n: "You C1000 Lemon (140ml)", p: 8000},
    {id: "12463", n: "Kratingdaeng (150ml)", p: 6500},
    {id: "12464", n: "Red Bull (250ml)", p: 25000},
    {id: "12465", n: "Milo Kotak (190ml)", p: 5500},
    {id: "12466", n: "Kopi Kenangan Mantyl", p: 9500},
    {id: "12467", n: "Golda Coffee (200ml)", p: 3500},
    {id: "12468", n: "Kopi Kapal Api Signature", p: 6000},
    {id: "12469", n: "Ichitan Thai Milk Tea", p: 9000},
    {id: "12470", n: "Oronamin C (120ml)", p: 7000},
    {id: "12471", n: "Hydro Coco (250ml)", p: 7500},
    {id: "12472", n: "Kopi Good Day Freeze", p: 6500},
    {id: "12473", n: "Bear Brand Gold White Malt", p: 11000},
    {id: "12474", n: "SilverQueen Very Berry Yogurt (28gr)", p: 12000},
    {id: "12475", n: "SilverQueen Green Tea (62gr)", p: 16500},
    {id: "12476", n: "Delfi Dairy Milk (50gr)", p: 13500},
    {id: "12477", n: "Delfi Cashew (50gr)", p: 13500},
    {id: "12478", n: "Beng Beng Share It (isi 10)", p: 15500},
    {id: "12479", n: "Choki Choki (isi 5)", p: 8000},
    {id: "12480", n: "KitKat 2 Finger (17gr)", p: 6500},
    {id: "12481", n: "KitKat 4 Finger (35gr)", p: 11500},
    {id: "12482", n: "Susu Cimory Hazelnut (250ml)", p: 9500},
    {id: "12483", n: "Susu Cimory Almond (250ml)", p: 9500},
    {id: "12484", n: "Susu Cimory Cashew (250ml)", p: 9500},
    {id: "12485", n: "Susu Cimory Sea Salt (250ml)", p: 9500},
    {id: "12486", n: "Wall's Feast Chocolate", p: 6000},
    {id: "12487", n: "Wall's Paddle Pop Rainbow", p: 4500},
    {id: "12488", n: "Wall's Solero Lime", p: 6000},
    {id: "12489", n: "Wall's Magnum Classic", p: 16000},
    {id: "12490", n: "Wall's Magnum Almond", p: 16000},
    {id: "12491", n: "Minute Maid Pulpy Orange (300ml)", p: 6500},
    {id: "12492", n: "Minute Maid Pulpy Guava (300ml)", p: 6500},
    {id: "12493", n: "Floridina Orange (350ml)", p: 3500},
    {id: "12494", n: "Floridina Coco (350ml)", p: 3500},
    {id: "12495", n: "Cimory Squeeze Original", p: 11000},
    {id: "12496", n: "Cimory Squeeze Blueberry", p: 11000},
    {id: "12497", n: "Cimory Squeeze Strawberry", p: 11000},
    {id: "12498", n: "Cimory Squeeze Peach", p: 11000},
    {id: "12499", n: "Kacang Dua Kelinci (180gr)", p: 18500},
    {id: "12500", n: "Kacang Atom Garuda (130gr)", p: 12500},
    {id: "12501", n: "Kacang Sukro (120gr)", p: 11000},
    {id: "12502", n: "Kusuka Keripik Singkong (60gr)", p: 7500},
    {id: "12503", n: "Piattos Sapi Panggang (75gr)", p: 12000},
    {id: "12504", n: "Chitato Sapi Panggang (68gr)", p: 13500},
    {id: "12505", n: "Lay's Rumput Laut (68gr)", p: 13500},
    {id: "12506", n: "Potabee BBQ (68gr)", p: 12500},
    {id: "12507", n: "Sedaap Cup Mie Goreng", p: 5500},
    {id: "12508", n: "Sedaap Cup Mie Kuah Soto", p: 5500},
    {id: "12509", n: "Nissin Gekikara Ramen Pas", p: 7500},
    {id: "12510", n: "Nissin Cup Noodles Seafood", p: 10000},
    {id: "12511", n: "Garnier Men Face Wash", p: 35000},
    {id: "12512", n: "Biore Men Facial Foam", p: 32000},
    {id: "12513", n: "Rexona Men Roll On", p: 18500},
    {id: "12514", n: "Nivea Men Deodorant", p: 20000},
    {id: "12515", n: "Gillette Blue II Plus (isi 2)", p: 15500},
    {id: "12516", n: "Minyak Goreng Sovia 2L", p: 34500},
    {id: "12517", n: "Minyak Goreng Fortune 2L", p: 34500},
    {id: "12518", n: "Beras Topi Koki 5kg", p: 76000},
    {id: "12519", n: "Beras Raja Lele 5kg", p: 74000},
    {id: "12520", n: "Sabun Mandi Nuvo (isi 3)", p: 12000},
    {id: "12521", n: "Sabun Mandi Giv (isi 3)", p: 12000},
    {id: "12522", n: "Mama Lemon Gelas (200ml)", p: 3500},
    {id: "12523", n: "Sunlight Gelas (200ml)", p: 3500},
    {id: "12524", n: "Sariwangi Teh Celup (isi 25)", p: 7500},
    {id: "12525", n: "Teh Celup Sosro (isi 25)", p: 7000},
    {id: "12526", n: "Gopala Susu Kambing (200gr)", p: 35000},
    {id: "12527", n: "Entrasol Gold (600gr)", p: 115000},
    {id: "12528", n: "Anlene Gold (600gr)", p: 105000},
    {id: "12529", n: "Susu Prenagen Mommy (400gr)", p: 85000},
    {id: "12530", n: "Pediasure Vanilla (850gr)", p: 320000},
    {id: "12531", n: "Susu SGM Eksplor 1+ (900gr)", p: 88000},
    {id: "12532", n: "Susu Lactogrow 3 (750gr)", p: 110000},
    {id: "12533", n: "Chil Kid Platinum (800gr)", p: 265000},
    {id: "12534", n: "SGM Bunda (150gr)", p: 25000},
    {id: "12535", n: "Luwak White Koffie Less Sugar", p: 16500},
    {id: "12536", n: "Good Day Mocacinno (isi 10)", p: 15500},
    {id: "12537", n: "Nescafe Classic (Jar 100gr)", p: 45000},
    {id: "12538", n: "Indocafe Fine Blend (Jar)", p: 42000},
    {id: "12539", n: "Kopi Gajah Miko", p: 2000},
    {id: "12540", n: "Torabika Cappuccino (isi 10)", p: 21000},
    {id: "12541", n: "Nutrisari Jeruk Peras (isi 10)", p: 17500},
    {id: "12542", n: "Marjan Boudoin Sirup Cocopandan", p: 22500},
    {id: "12543", n: "ABC Syrup Special Grade Melon", p: 19500},
    {id: "12544", n: "Kratingdaeng Red Bull (Can)", p: 12500},
    {id: "12545", n: "Hemaviton Jreng (Sachet)", p: 1000},
    {id: "12546", n: "Susu Jahe Sidomuncul (isi 10)", p: 18000},
    {id: "12547", n: "Minyak Telon Plus Cap Lang (60ml)", p: 22000},
    {id: "12548", n: "Minyak Kayu Putih Konicare (60ml)", p: 28000},
    {id: "12549", n: "Minyak Tawon (60ml)", p: 45000},
    {id: "12550", n: "Betadine Antiseptic (15ml)", p: 21000},
    {id: "12551", n: "Hansaplast Kain Lentur (isi 10)", p: 8500},
    {id: "12552", n: "Puyer Bintang Toedjoe (isi 12)", p: 12000},
    {id: "12553", n: "Paramex (isi 4)", p: 3500},
    {id: "12554", n: "Panadol Biru (isi 10)", p: 13500},
    {id: "12555", n: "Promag Tablet (isi 12)", p: 9500},
    {id: "12556", n: "Entrostop Tablet (isi 10)", p: 10500},
    {id: "12557", n: "Bodrex Sakit Kepala (isi 10)", p: 5500},
    {id: "12558", n: "Rohto Eye Drops (7ml)", p: 16500},
    {id: "12559", n: "Insto Reguler (7.5ml)", p: 17000},
    {id: "12560", n: "Vicks VapoRub (25gr)", p: 22000},
    {id: "12561", n: "Salonpas Koyo (isi 10)", p: 8500},
    {id: "12562", n: "Counterpain Cream (30gr)", p: 48000},
    {id: "12563", n: "Hanasui Serum Vitamin C", p: 25000},
    {id: "12564", n: "Ponds White Beauty (Day Cream)", p: 32000},
    {id: "12565", n: "Wardah Lightening Day Cream", p: 35000},
    {id: "12566", n: "Viva Air Mawar (100ml)", p: 7000},
    {id: "12567", n: "Kapas Wajah Selection (75gr)", p: 12000},
    {id: "12568", n: "Acne Feldin Lotion", p: 28000},
    {id: "12569", n: "Fair & Lovely Facial Foam", p: 23000},
    {id: "12570", n: "Clean & Clear Face Wash", p: 26000},
    {id: "12571", n: "Biore Body Foam (Refill 450ml)", p: 28500},
    {id: "12572", n: "Lux Soft Touch (Refill 450ml)", p: 27500},
    {id: "12573", n: "Sabun Mandi Shinzui (Batang)", p: 6500},
    {id: "12574", n: "Rexona Women Roll On", p: 18500},
    {id: "12575", n: "Dove Roll On (40ml)", p: 22000},
    {id: "12576", n: "Nivea Extra White Body Lotion", p: 35000},
    {id: "12577", n: "Vaseline Healthy White (200ml)", p: 32000},
    {id: "12578", n: "Marina UV White (185ml)", p: 10000},
    {id: "12579", n: "Citra Pearly White Lotion", p: 21000},
    {id: "12580", n: "Sunsilk Hijab Refresh", p: 25000},
    {id: "12581", n: "Clear Men Ice Cool (160ml)", p: 32000},
    {id: "12582", n: "Head & Shoulders Cool Menthol", p: 30000},
    {id: "12583", n: "Rejoice Rich Soft Smooth", p: 22000},
    {id: "12584", n: "Ellips Hair Vitamin (Blister)", p: 12500},
    {id: "12585", n: "Minyak Rambut Gatsby Water Gloss", p: 15000},
    {id: "12586", n: "Pepsodent Herbal (190gr)", p: 16000},
    {id: "12587", n: "Close Up Ever Fresh (160gr)", p: 18000},
    {id: "12588", n: "Formula Sikat Gigi Double Care", p: 12000},
    {id: "12589", n: "Oral-B Sikat Gigi Classic", p: 15000},
    {id: "12590", n: "Listerine Cool Mint (250ml)", p: 25000},
    {id: "12591", n: "Charm Body Fit (isi 20)", p: 18000},
    {id: "12592", n: "Laurier Relax Night (35cm)", p: 20000},
    {id: "12593", n: "Softex Daun Sirih (isi 20)", p: 18500},
    {id: "12594", n: "Sweety Bronze Pants (M) 34", p: 52000},
    {id: "12595", n: "Sweety Bronze Pants (L) 30", p: 52000},
    {id: "12596", n: "Merries Good Skin (M) 34", p: 60000},
    {id: "12597", n: "Huggies Pants (M)", p: 75000},
    {id: "12598", n: "Cussons Baby Oil (100ml)", p: 22000},
    {id: "12599", n: "Cussons Baby Powder (200gr)", p: 15000},
    {id: "12600", n: "Johnson's Baby Bath (Refill)", p: 28000},
    {id: "12601", n: "Zwitsal Baby Shampoo (250ml)", p: 32000},
    {id: "12602", n: "Mitu Baby Wipes (isi 50)", p: 16000},
    {id: "12603", n: "My Baby Minyak Telon (90ml)", p: 25000},
    {id: "12604", n: "So Klin Softergent (800gr)", p: 19500},
    {id: "12605", n: "Attack Plus Softener (800gr)", p: 22000},
    {id: "12606", n: "Daia Deterjen Bubuk (850gr)", p: 18000},
    {id: "12607", n: "Boom Deterjen (800gr)", p: 15000},
    {id: "12608", n: "Molto Sekali Bilas (Refill)", p: 25000},
    {id: "12609", n: "So Klin Pewangi (Refill)", p: 12000},
    {id: "12610", n: "Super Pell Pembersih Lantai", p: 15000},
    {id: "12611", n: "Stella Pengharum Ruangan (Spray)", p: 28000},
    {id: "12612", n: "Baygon Aerosol (600ml)", p: 38000},
    {id: "12613", n: "Hit Aerosol (600ml)", p: 35000},
    {id: "12614", n: "Vape Mat (isi 21)", p: 12000},
    {id: "12615", n: "Autan Lotion Anti Nyamuk", p: 10000},
    {id: "12616", n: "Korek Api Gas Tokai", p: 3500},
    {id: "12617", n: "Lilin Putih (isi 8)", p: 15000},
    {id: "12618", n: "Baterai ABC Alkaline (AA isi 2)", p: 15000},
    {id: "12619", n: "Baterai ABC Biru (AA isi 4)", p: 12000},
    {id: "12620", n: "Tissue Basah Paseo Antiseptic", p: 18000},
    {id: "12621", n: "Masker Sensi (isi 5)", p: 10000},
    {id: "12622", n: "Hand Sanitizer Antis (60ml)", p: 15000},
    {id: "12623", n: "Hansaplast Plester Roll", p: 12000},
    {id: "12624", n: "Sajiku Tepung Bumbu (80gr)", p: 3500},
    {id: "12625", n: "Sasa Tepung Bakwan (250gr)", p: 7000},
    {id: "12626", n: "Kobe Tepung Pisang Goreng", p: 6500},
    {id: "12627", n: "Masako Rasa Ayam (Sachet)", p: 500},
    {id: "12628", n: "Royco Rasa Sapi (Sachet)", p: 500},
    {id: "12629", n: "Ajinomoto (100gr)", p: 6000},
    {id: "12630", n: "Ladaku Merica Bubuk", p: 2000},
    {id: "12631", n: "Desaku Ketumbar Bubuk", p: 2000},
    {id: "12632", n: "Terasi ABC (isi 10)", p: 6500},
    {id: "12633", n: "Saori Saus Tiram (Sachet)", p: 3000},
    {id: "12634", n: "Blue Band Serbaguna (200gr)", p: 12500},
    {id: "12635", n: "Fornas Margarin (200gr)", p: 8000},
    {id: "12636", n: "Simas Margarin (200gr)", p: 8500},
    {id: "12637", n: "Maizenaku (100gr)", p: 5500},
    {id: "12638", n: "Tepung Terigu Segitiga Biru 1kg", p: 15500},
    {id: "12639", n: "Tepung Terigu Cakra Kembar 1kg", p: 16500},
    {id: "12640", n: "Tepung Beras Rose Brand (500gr)", p: 9500},
    {id: "12641", n: "Tepung Ketan Rose Brand (500gr)", p: 11000},
    {id: "12642", n: "Bihun Jagung (2 keping)", p: 5500},
    {id: "12643", n: "Soun Naga (50gr)", p: 4000},
    {id: "12644", n: "Krupuk Udang Finna (Sachet)", p: 6500},
    {id: "12645", n: "Emping Melinjo (250gr)", p: 28000},
    {id: "12646", n: "Santan Kara (65ml)", p: 4000},
    {id: "12647", n: "Santan Sasa (65ml)", p: 3800},
    {id: "12648", n: "Madu Pramuka (650ml)", p: 125000},
    {id: "12649", n: "Madu TJ Murni (150gr)", p: 28000},
    {id: "12650", n: "Madu Rasa Premium", p: 15000},
    {id: "12651", n: "Susu Karang (Eceran)", p: 3500},
    {id: "12652", n: "Agar-agar Swallow Globe", p: 5000},
    {id: "12653", n: "Nutrijell Cokelat (30gr)", p: 6500},
    {id: "12654", n: "Nutrijell Strawberry (15gr)", p: 4500},
    {id: "12655", n: "Nutrijell Kelapa Muda", p: 4500},
    {id: "12656", n: "Nata De Coco Kara (1kg)", p: 18500},
    {id: "12657", n: "Wong Coco Sari Kelapa", p: 12000},
    {id: "12658", n: "SKM Carnation (370gr)", p: 13500},
    {id: "12659", n: "SKM Omela (370gr)", p: 12500},
    {id: "12660", n: "Keju Kraft Cheddar (165gr)", p: 25000},
    {id: "12661", n: "Keju Prochiz Gold (170gr)", p: 15000},
    {id: "12662", n: "Selai Morin Strawberry", p: 18000},
    {id: "12663", n: "Selai Ceres Choco Hazelnut", p: 32000},
    {id: "12664", n: "Meseres Garuda (80gr)", p: 8000},
    {id: "12665", n: "Ovaltine Bubuk (400gr)", p: 48000},
    {id: "12666", n: "Milo Bubuk (400gr)", p: 55000},
    {id: "12667", n: "Susu Bubuk Zee (350gr)", p: 45000},
    {id: "12668", n: "Biskuit Hatari See Hong Puff", p: 9500},
    {id: "12669", n: "Biskuit Selamat Wafer", p: 12000},
    {id: "12670", n: "Biskuit Khong Guan (650gr)", p: 55000},
    {id: "12671", n: "Biskuit Monde Serena (Ecer)", p: 12000},
    {id: "12672", n: "Wafer Loacker Quadratini", p: 35000},
    {id: "12673", n: "Permen Kopiko (Bungkus)", p: 8500},
    {id: "12674", n: "Permen Fox's Kaleng", p: 18500},
    {id: "12675", n: "Permen Relaxa (Bungkus)", p: 8000},
    {id: "12676", n: "Permen Kis Mint (Bungkus)", p: 8000},
    {id: "12677", n: "Permen Tolak Angin", p: 10000},
    {id: "12678", n: "Permen Alpenliebe", p: 8500},
    {id: "12679", n: "Yupi Gummy Bears (45gr)", p: 4500},
    {id: "12680", n: "Yupi Strawberry Kiss", p: 4500},
    {id: "12681", n: "Chupa Chups Lollipop", p: 2500},
    {id: "12682", n: "Sugus Permen Kunyah", p: 6000},
    {id: "12683", n: "Mentos Roll", p: 4000},
    {id: "12684", n: "Fisherman's Friend", p: 16500},
    {id: "12685", n: "Tictac Mint (14gr)", p: 6000},
    {id: "12686", n: "Frozz Permen Bebas Gula", p: 9000},
    {id: "12687", n: "Gery Chocolatos (Pack)", p: 12000},
    {id: "12688", n: "Astor Cokelat (40gr)", p: 3500},
    {id: "12689", n: "Nabati Wafer Pink Lava", p: 8500},
    {id: "12690", n: "Tango Wafer Vanila (130gr)", p: 8500},
    {id: "12691", n: "Twister Wafer Stick", p: 8000},
    {id: "12692", n: "Fullo Wafer Roll", p: 8000},
    {id: "12693", n: "Beng Beng Chocolate (3x20gr)", p: 10500},
    {id: "12694", n: "Top Chocolate Bar", p: 2500},
    {id: "12695", n: "Snickers (50gr)", p: 12000},
    {id: "12696", n: "Maltesers Chocolate", p: 15000},
    {id: "12697", n: "Van Houten Milk Chocolate", p: 18000},
    {id: "12698", n: "Toblerone Milk (100gr)", p: 32000},
    {id: "12699", n: "Lotte Xylitol Gum", p: 10000},
    {id: "12700", n: "Hacks Permen", p: 8000},
    {id: "12701", n: "Nano Nano Kulit Jeruk", p: 2000},
    {id: "12702", n: "Pop Rocks Candy", p: 3500},
    {id: "12703", n: "Mr. Sarwan Bakso", p: 15000},
    {id: "12704", n: "Sosis So Nice Siap Makan", p: 2000},
    {id: "12705", n: "Sosis Champ (375gr)", p: 28000},
    {id: "12706", n: "Nugget Fiesta (500gr)", p: 55000},
    {id: "12707", n: "Nugget So Good (400gr)", p: 48000},
    {id: "12708", n: "Kentang Goreng Shoestring 1kg", p: 42000},
    {id: "12709", n: "Kacang Polong Mix (100gr)", p: 12000},
    {id: "12710", n: "Kuaci Rebo (150gr)", p: 16500},
    {id: "12711", n: "Fitbar Multigrain Bar", p: 6500},
    {id: "12712", n: "Soyjoy Almond & Chocolate", p: 10000},
    {id: "12713", n: "Roma Sari Gandum (115gr)", p: 9000},
    {id: "12714", n: "Slai O'lai Strawberry (128gr)", p: 8500},
    {id: "12715", n: "Tini Wini Biti (isi 5)", p: 10000},
    {id: "12716", n: "Good Time Cookies (72gr)", p: 8500},
    {id: "12717", n: "Nissin Wafer Chocolate (110gr)", p: 10000},
    {id: "12718", n: "Malkist Abon (Roma)", p: 8000},
    {id: "12719", n: "Gery Saluut Cheese", p: 8000},
    {id: "12720", n: "Krip Krip Tortilla", p: 5000},
    {id: "12721", n: "Cheetos Jagung Bakar", p: 6500},
    {id: "12722", n: "Jetz Chocolate (40gr)", p: 6000},
    {id: "12723", n: "Chiki Balls Keju (40gr)", p: 6000},
    {id: "12724", n: "Ring Snack Keju", p: 6000},
    {id: "12725", n: "Smax Ring (40gr)", p: 6500},
    {id: "12726", n: "Qtela Keripik Tempe (150gr)", p: 14500},
    {id: "12727", n: "Keripik Maicih (Level 3)", p: 18000},
    {id: "12728", n: "Garuda Rosta Kacang Atom", p: 11500},
    {id: "12729", n: "Kacang Mayasi (80gr)", p: 12000},
    {id: "12730", n: "Popcorn Jolly Time", p: 15500},
    {id: "12731", n: "Pocky Chocolate (47gr)", p: 9500},
    {id: "12732", n: "Pocky Strawberry (45gr)", p: 9500},
    {id: "12733", n: "Pocky Cookies & Cream", p: 9500},
    {id: "12734", n: "Pejoy Chocolate (37gr)", p: 9500},
    {id: "12735", n: "Yan Yan Cup Chocolate", p: 6000},
    {id: "12736", n: "Hello Panda Strawberry", p: 9500},
    {id: "12737", n: "Meiji Lucky Stick", p: 9000},
    {id: "12738", n: "Toppo Chocolate (40gr)", p: 9500},
    {id: "12739", n: "Kinder Joy For Boys/Girls", p: 14500},
    {id: "12740", n: "Choco Pie Lotte (isi 2)", p: 10000},
    {id: "12741", n: "Sari Roti Sandwich Cokelat", p: 6000},
    {id: "12742", n: "Sari Roti Sobek Cokelat Keju", p: 14000},
    {id: "12743", n: "Sari Roti Tawar Gandum", p: 22000},
    {id: "12744", n: "Susu Real Good (Pillow)", p: 2500},
    {id: "12745", n: "Susu Milku Cokelat (200ml)", p: 3500},
    {id: "12746", n: "Susu Clevo (125ml)", p: 3500},
    {id: "12747", n: "Indomilk Kids Cokelat", p: 3500},
    {id: "12748", n: "V-Soy Multi Grain (300ml)", p: 12500},
    {id: "12749", n: "Susu Kedelai ABC (200ml)", p: 6500},
    {id: "12750", n: "Nutriboost Orange (300ml)", p: 8500},
    {id: "12751", n: "Minute Maid Refresh (200ml)", p: 3500},
    {id: "12752", n: "Mogu Mogu Lychee (320ml)", p: 10000},
    {id: "12753", n: "Cap Panda Liang Teh (310ml)", p: 6500},
    {id: "12754", n: "Susu Tujuh Kurma (189ml)", p: 10500},
    {id: "12755", n: "Milk Life Lactose Free", p: 12000},
    {id: "12756", n: "Greenfields UHT Milk 250ml", p: 9500},
    {id: "12757", n: "Greenfields Yogurt Drink", p: 9500},
    {id: "12758", n: "Kopi ABC Susu (Botol)", p: 5500},
    {id: "12759", n: "Kopi Tora Cafe Iced Cappuccino", p: 5500},
    {id: "12760", n: "Kopi Caffino Latte (Botol)", p: 6500},
    {id: "12761", n: "7UP (Botol 250ml)", p: 5000},
    {id: "12762", n: "Big Cola (400ml)", p: 5000},
    {id: "12763", n: "Teh Javana (350ml)", p: 3500},
    {id: "12764", n: "Ichi Ocha Green Tea", p: 3500},
    {id: "12765", n: "Kapur Barus Bagus (Kecil)", p: 15000},
    {id: "12766", n: "Dahlia Kamper (isi 4)", p: 12000},
    {id: "12767", n: "Kamper Gantung Swallow", p: 14000},
    {id: "12768", n: "Pembalut Whisper (isi 10)", p: 18000},
    {id: "12769", n: "Sariayu Pembersih Mawar", p: 18000},
    {id: "12770", n: "Mustika Ratu Air Mawar", p: 18000},
    {id: "12771", n: "Bedak Marcks Classic", p: 18500},
    {id: "12772", n: "Bedak MBK (Sachet)", p: 2500},
    {id: "12773", n: "Pigeon Baby Powder (100gr)", p: 18000},
    {id: "12774", n: "Pigeon Baby Lotion (100ml)", p: 25000},
    {id: "12775", n: "Johnson's Baby Cream (50gr)", p: 28000},
    {id: "12776", n: "Caladine Lotion (60ml)", p: 22000},
    {id: "12777", n: "Bedak Herocyn (75gr)", p: 18500},
    {id: "12778", n: "Bedak Purol (100gr)", p: 24000},
    {id: "12779", n: "Minyak Kayu Putih Konicare (125ml)", p: 48000},
    {id: "12780", n: "Minyak Telon Lang (125ml)", p: 42000},
    {id: "12781", n: "Vicks Inhaler", p: 18000},
    {id: "12782", n: "Minyak Angin Cap Kapak (10ml)", p: 22000},
    {id: "12783", n: "Minyak Angin Safe Care Roll On", p: 18500},
    {id: "12784", n: "Fresh Care Roll On (10ml)", p: 15500},
    {id: "12785", n: "Koyo Cabe (isi 10)", p: 12000},
    {id: "12786", n: "Plester Hansaplast (Ecer)", p: 1000},
    {id: "12787", n: "Rivanol (100ml)", p: 8500},
    {id: "12788", n: "Alkohol 70% (100ml)", p: 12000},
    {id: "12789", n: "Cotton Bud Selection (isi 100)", p: 8000},
    {id: "12790", n: "Kapas Wajah Sariayu", p: 15000},
    {id: "12791", n: "Pencuci Piring Ekonomi (Pouch)", p: 12000},
    {id: "12792", n: "Spons Cuci Piring Scotch Brite", p: 10000},
    {id: "12793", n: "Sikat Cuci Baju", p: 5000},
    {id: "12794", n: "Sikat Kamar Mandi", p: 15000},
    {id: "12795", n: "Pembersih Kaca Cling (Refill)", p: 5500},
    {id: "12796", n: "Pembersih Lantai SOS (Refill)", p: 12000},
    {id: "12797", n: "WPC Pembersih Kloset", p: 18000},
    {id: "12798", n: "Harpy Pembersih Porselen", p: 22000},
    {id: "12799", n: "Bagus Serap Air", p: 15500},
    {id: "12800", n: "Glade Gantung (Ocean Escape)", p: 12000},
    {id: "12801", n: "Dahlia Gantung (Lemon)", p: 11000},
    {id: "12802", n: "Korek Kayu (Pack isi 10)", p: 10000},
    {id: "12803", n: "Baterai Panasonic (AA isi 4)", p: 15000},
    {id: "12804", n: "Baterai Panasonic (AAA isi 2)", p: 12000},
    {id: "12805", n: "Baterai Jam Tangan (Ecer)", p: 10000},
    {id: "12806", n: "Lakban Bening (Besar)", p: 15000},
    {id: "12807", n: "Isi Staples (Kecil)", p: 2500},
    {id: "12808", n: "Gunting Kertas (Kecil)", p: 8000},
    {id: "12809", n: "Cutter (Kecil)", p: 10000},
    {id: "12810", n: "Lem Glukol (Kecil)", p: 3500},
    {id: "12811", n: "Lem Alteco (Original)", p: 12000},
    {id: "12812", n: "Double Tape (Kecil)", p: 5000},
    {id: "12813", n: "Kertas Kado", p: 2500},
    {id: "12814", n: "Amplop Putih (Pack isi 100)", p: 25000},
    {id: "12815", n: "Buku Tulis Sidu (38 Lembar)", p: 4500},
    {id: "12816", n: "Bolpen Standard AE7 (Ecer)", p: 3500},
    {id: "12817", n: "Bolpen Snowman V-1 (Ecer)", p: 5000},
    {id: "12818", n: "Pensil 2B Faber Castell", p: 6500},
    {id: "12819", n: "Penghapus Joyko (Kecil)", p: 2500},
    {id: "12820", n: "Rautan Pensil (Kecil)", p: 3500},
    {id: "12821", n: "Penggaris 30cm (Plastik)", p: 5000},
    {id: "12822", n: "Stabilo Boss (Kuning)", p: 15000},
    {id: "12823", n: "Tipe-X Kenko (Cair)", p: 10000},
    {id: "12824", n: "Spidol Snowman Boardmarker", p: 12000},
    {id: "12825", n: "Isi Ulang Spidol Snowman", p: 18000},
    {id: "12826", n: "Map Batik (Kertas)", p: 3500},
    {id: "12827", n: "Map Plastik L-Folder", p: 5000},
    {id: "12828", n: "Binder Clip (Ecer No. 105)", p: 1500},
    {id: "12829", n: "Gembok Pintu (Kecil)", p: 25000},
    {id: "12830", n: "Kabel Data Type-C (Standar)", p: 15000},
    {id: "12831", n: "Kepala Charger (Standar)", p: 25000},
    {id: "12832", n: "Earphone Standar (Jack 3.5mm)", p: 15000},
    {id: "12833", n: "Sandal Jepit Swallow (Size 10)", p: 15000},
    {id: "12834", n: "Payung Lipat (Standar)", p: 45000},
    {id: "12835", n: "Jas Hujan Plastik (Poncho)", p: 10000},
    {id: "12836", n: "Korek Api Kayu (Grosir/Pack)", p: 8500},
    {id: "12837", n: "Buku Kwitansi (Kecil)", p: 6000},
    {id: "12838", n: "Buku Kas (Besar)", p: 18000},
    {id: "12839", n: "Kertas Karbon (Ecer)", p: 1000},
    {id: "12840", n: "Isolasi Listrik (Hitam)", p: 8000},
    {id: "12841", n: "Tali Rafia (Gulung Kecil)", p: 5000},
    {id: "12842", n: "Obeng Minus/Plus (Set)", p: 15000},
    {id: "12843", n: "Tang Potong (Standar)", p: 35000},
    {id: "12844", n: "Meteran Tukang (3 Meter)", p: 20000},
    {id: "12845", n: "Palu Kambing (Kecil)", p: 35000},
    {id: "12846", n: "Klem Kabel (isi 50)", p: 12000},
    {id: "12847", n: "Lampu LED Hannochs (9 Watt)", p: 35000},
    {id: "12848", n: "Lampu LED Philips (12 Watt)", p: 55000},
    {id: "12849", n: "Steker Colokan Listrik", p: 7500},
    {id: "12850", n: "Kabel Roll (3 Meter)", p: 45000},
    {id: "12851", n: "Saklar Gantung", p: 6000},
    {id: "12852", n: "Kain Pel (Standar)", p: 25000},
    {id: "12853", n: "Sapu Ijuk (Standar)", p: 20000},
    {id: "12854", n: "Pengki Plastik", p: 15000},
    {id: "12855", n: "Ember Plastik (Kecil)", p: 18000},
    {id: "12856", n: "Gayung Mandi Plastik", p: 10000},
    {id: "12857", n: "Keset Kaki (Kain)", p: 12000},
    {id: "12858", n: "Gantungan Baju (isi 12)", p: 25000},
    {id: "12859", n: "Jepitan Jemuran (isi 20)", p: 15000},
    {id: "12860", n: "Sikat Lantai Gagang", p: 18000},
    {id: "12861", n: "Kanebo (Standar)", p: 15000},
    {id: "12862", n: "Sabun Cuci Motor (Sachet)", p: 2500},
    {id: "12863", n: "Semir Ban (Sachet)", p: 5000},
    {id: "12864", n: "Parfum Mobil (Gantung)", p: 15000},
    {id: "12865", n: "Pembersih Injektor (Botol)", p: 35000},
    {id: "12866", n: "Oli Federal Matic (1L)", p: 55000},
    {id: "12867", n: "Oli Yamalube (1L)", p: 58000},
    {id: "12868", n: "Busi Motor Honda (Ecer)", p: 15000},
    {id: "12869", n: "Pompa Ban Manual", p: 45000},
    {id: "12870", n: "Minyak Rem (Kecil)", p: 12000},
    {id: "12871", n: "Senter LED Kecil (Baterai)", p: 25000},
    {id: "12872", n: "Pompa Galon Elektrik", p: 45000},
    {id: "12873", n: "Botol Minum (Tumbler Plastik)", p: 20000}
    // ... data lainnya tersimpan di memori browser
];

let cart = [];
let html5QrCode;

function startScan() {
    html5QrCode = new Html5Qrcode("reader");
    html5QrCode.start({facingMode: "environment"}, {fps: 10, qrbox: 250}, (txt) => {
        addToCart(txt);
    }).catch(err => alert("Gunakan link HTTPS dari GitHub Pages!"));
}

function addToCart(barcode) {
    const item = products.find(p => p.id == barcode.trim());
    const stat = document.getElementById('status');
    if(item) {
        stat.innerText = "Ditemukan: " + item.n; stat.className = "success";
        const idx = cart.findIndex(c => c.id === item.id);
        if(idx !== -1) { cart[idx].q += 1; } else { cart.unshift({...item, q: 1}); }
    } else {
        stat.innerText = "Barcode " + barcode + " Tidak Terdaftar!"; stat.className = "error";
    }
    renderCart();
    setTimeout(() => { stat.innerText = ""; stat.className = ""; }, 2500);
}

function renderCart() {
    const list = document.getElementById('cart-list');
    if(cart.length === 0) { list.innerHTML = "<p>Keranjang kosong</p>"; return; }
    list.innerHTML = cart.map((c, i) => `
        <div class="cart-item">
            <div style="flex:1"><b>${c.n}</b><br>Rp ${c.p.toLocaleString()}</div>
            <div style="display:flex; align-items:center; gap:10px;">
                <button onclick="updateQty(${i},-1)">-</button>
                <b>${c.q}</b>
                <button onclick="updateQty(${i},1)">+</button>
            </div>
            <div style="width:80px; text-align:right;"><b>${(c.p*c.q).toLocaleString()}</b></div>
        </div>
    `).join('');
    const total = cart.reduce((s, c) => s + (c.p * c.q), 0);
    document.getElementById('grand-total').innerText = total.toLocaleString();
}

function updateQty(i, d) {
    cart[i].q += d;
    if(cart[i].q <= 0) cart.splice(i, 1);
    renderCart();
}

function resetCart() { if(confirm("Hapus semua?")) { cart = []; renderCart(); } }

window.onload = () => {
    const sel = document.getElementById('manual-select');
    products.sort((a,b) => a.n.localeCompare(b.n)).forEach(p => {
        let o = document.createElement('option'); o.value = p.id; o.text = p.n; sel.appendChild(o);
    });
};
</script>
</body>
</html>
